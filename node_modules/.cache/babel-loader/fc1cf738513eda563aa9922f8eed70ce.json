{"ast":null,"code":"var _jsxFileName = \"/home/denzel/flake-dashboard/src/container/AquireBuilder/SearchResult/SearchResult.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styles from \"./SearchResult.module.css\";\nimport StarRating from \"../../../ui/star/StarRating\";\nimport Spinner from \"../../../ui/loader/Spinner/Spinner\";\nimport Aux from \"../../../hoc/Aux\";\nimport axios from \"../../../axios-scrape\";\nimport ScrapeLoader from \"../../../ui/loader/ScrapeLoader/ScrapeLoader\";\nimport { Link } from \"react-router-dom\";\n\nconst SearchResult = props => {\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pagenatedLoading, setPagenatedLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  useEffect(() => {\n    window.addEventListener(\"scroll\", performScrollEvent);\n    const query = new URLSearchParams(props.location.search);\n    let search = \"\";\n\n    for (let param of query.entries()) {\n      search = param[1];\n    }\n\n    loadData(search);\n    return () => {\n      window.removeEventListener(\"scroll\", performScrollEvent);\n    };\n\n    function loadData(search) {\n      if (search) {\n        if (!books || search !== searchTerm) {\n          setLoading(true);\n          setSearchTerm(search);\n          setBooks([]);\n          axios.get(`?q=${search}`).then(res => {\n            // setBooks(cleanData(res.data.items));\n            console.log(cleanData(res.data));\n            setLoading(false);\n          }).catch(error => {\n            setLoading(false);\n            setError(error.message);\n          });\n        }\n      }\n\n      console.log(error);\n    }\n\n    function performScrollEvent() {\n      const scrollable = document.documentElement.scrollHeight - window.innerHeight;\n      const scrolled = window.scrollY;\n\n      if (Math.ceil(scrolled) === scrollable) {\n        getMoreBooks(books.length + 1);\n      }\n    }\n\n    function getMoreBooks(startIndex) {\n      // this.setState({ pagenatedLoading: true });\n      setPagenatedLoading(true);\n      axios.get(`?q=${searchTerm}&maxResults=10&startIndex=${startIndex}`).then(res => {\n        // this.setState({\n        //   books: [...this.state.books.concat(this.cleanData(res.data.items))],\n        //   pagenatedLoading: false,\n        // });\n        setBooks([...books.concat(cleanData(res.data.items))]);\n      }).catch(error => {\n        setError(error);\n        setPagenatedLoading(false);\n      });\n    }\n  }, [books, props.location.search, searchTerm, pagenatedLoading, error, loading]);\n\n  const cleanData = book => {\n    // const cleanedDate = books.map((book) => {\n    //   if (!book.volumeInfo.hasOwnProperty(\"imageLinks\")) {\n    //     book.volumeInfo[\"imageLinks\"] = {\n    //       thumbnail:\n    //         \"https://vignette.wikia.nocookie.net/pandorahearts/images/a/ad/Not_available.jpg/revision/latest?cb=20141028171337\",\n    //     };\n    //   }\n    //   if (!book.volumeInfo.hasOwnProperty(\"authors\")) {\n    //     book.volumeInfo[\"authors\"] = [];\n    //   }\n    //   return book;\n    // });\n    const books = [];\n\n    for (let key in book) {\n      const bookSet = book[key];\n      let amazonImage = \"\";\n\n      if (bookSet.hasOwnProperty(\"abeBook\")) {\n        console.log(\"getting link\");\n        amazonImage = bookSet[\"abeBook\"].goodreadsImageLink;\n      }\n\n      if (bookSet.hasOwnProperty(\"amazonBook\")) {\n        console.log(\"Settinfg link\");\n        bookSet.amazonBook[\"imageLink\"] = amazonImage;\n      }\n\n      for (let key in bookSet) {\n        console.log(\"in\");\n        const bookItem = bookSet[key];\n\n        if (bookItem.imageLink === \"\") {\n          console.log(\"inner\");\n          bookItem[\"imageLink\"] = \"https://vignette.wikia.nocookie.net/pandorahearts/images/a/ad/Not_available.jpg/revision/latest?cb=20141028171337\";\n        }\n      }\n\n      books.push(bookSet); // console.log(\"d\", book[key]);\n    }\n\n    return books;\n  }; // componentDidMount() {\n  //   window.addEventListener(\"scroll\", this.performScrollEvent);\n  //   this.loadData();\n  // }\n  // componentDidUpdate() {\n  //   this.loadData();\n  // }\n  // componentWillUnmount() {\n  //   window.removeEventListener(\"scroll\", this.performScrollEvent);\n  // }\n\n\n  let results = loading ? /*#__PURE__*/React.createElement(ScrapeLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 27\n    }\n  }) : null;\n\n  if (error === \"Network Error\") {\n    results = /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, \"Check your network dumbass\");\n  }\n\n  if (books.length > 0) {\n    results = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, books.length, /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.BookList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }, books.map(book => {\n      return /*#__PURE__*/React.createElement(Link, {\n        to: \"/acquire_new/\" + book.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: styles.BookItem,\n        key: book.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.ThumbnailSection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: book.volumeInfo.imageLinks.thumbnail,\n        alt: \"book\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.BookSummary,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }\n      }, book.volumeInfo.title), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 23\n        }\n      }, \"by \"), book.volumeInfo.authors.join(\", \")), /*#__PURE__*/React.createElement(StarRating, {\n        rate: book.volumeInfo.averageRating,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }\n      }))));\n    })), pagenatedLoading ? /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 29\n      }\n    }) : null);\n  }\n\n  return /*#__PURE__*/React.createElement(Aux, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 10\n    }\n  }, \" \", results, \" \");\n};\n\nexport default SearchResult;","map":{"version":3,"sources":["/home/denzel/flake-dashboard/src/container/AquireBuilder/SearchResult/SearchResult.js"],"names":["React","useState","useEffect","styles","StarRating","Spinner","Aux","axios","ScrapeLoader","Link","SearchResult","props","books","setBooks","loading","setLoading","pagenatedLoading","setPagenatedLoading","error","setError","searchTerm","setSearchTerm","window","addEventListener","performScrollEvent","query","URLSearchParams","location","search","param","entries","loadData","removeEventListener","get","then","res","console","log","cleanData","data","catch","message","scrollable","document","documentElement","scrollHeight","innerHeight","scrolled","scrollY","Math","ceil","getMoreBooks","length","startIndex","concat","items","book","key","bookSet","amazonImage","hasOwnProperty","goodreadsImageLink","amazonBook","bookItem","imageLink","push","results","BookList","map","id","BookItem","ThumbnailSection","volumeInfo","imageLinks","thumbnail","BookSummary","title","authors","join","averageRating"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styles from \"./SearchResult.module.css\";\nimport StarRating from \"../../../ui/star/StarRating\";\nimport Spinner from \"../../../ui/loader/Spinner/Spinner\";\nimport Aux from \"../../../hoc/Aux\";\nimport axios from \"../../../axios-scrape\";\nimport ScrapeLoader from \"../../../ui/loader/ScrapeLoader/ScrapeLoader\";\nimport { Link } from \"react-router-dom\";\n\nconst SearchResult = (props) => {\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pagenatedLoading, setPagenatedLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", performScrollEvent);\n    const query = new URLSearchParams(props.location.search);\n    let search = \"\";\n    for (let param of query.entries()) {\n      search = param[1];\n    }\n    loadData(search);\n    return () => {\n      window.removeEventListener(\"scroll\", performScrollEvent);\n    };\n\n    function loadData(search) {\n      if (search) {\n        if (!books || search !== searchTerm) {\n          setLoading(true);\n          setSearchTerm(search);\n          setBooks([]);\n          axios\n            .get(`?q=${search}`)\n            .then((res) => {\n              // setBooks(cleanData(res.data.items));\n              console.log(cleanData(res.data));\n              setLoading(false);\n            })\n            .catch((error) => {\n              setLoading(false);\n              setError(error.message);\n            });\n        }\n      }\n      console.log(error);\n    }\n\n    function performScrollEvent() {\n      const scrollable =\n        document.documentElement.scrollHeight - window.innerHeight;\n      const scrolled = window.scrollY;\n      if (Math.ceil(scrolled) === scrollable) {\n        getMoreBooks(books.length + 1);\n      }\n    }\n\n    function getMoreBooks(startIndex) {\n      // this.setState({ pagenatedLoading: true });\n      setPagenatedLoading(true);\n      axios\n        .get(`?q=${searchTerm}&maxResults=10&startIndex=${startIndex}`)\n        .then((res) => {\n          // this.setState({\n          //   books: [...this.state.books.concat(this.cleanData(res.data.items))],\n          //   pagenatedLoading: false,\n          // });\n          setBooks([...books.concat(cleanData(res.data.items))]);\n        })\n        .catch((error) => {\n          setError(error);\n          setPagenatedLoading(false);\n        });\n    }\n  }, [\n    books,\n    props.location.search,\n    searchTerm,\n    pagenatedLoading,\n    error,\n    loading,\n  ]);\n\n  const cleanData = (book) => {\n    // const cleanedDate = books.map((book) => {\n    //   if (!book.volumeInfo.hasOwnProperty(\"imageLinks\")) {\n    //     book.volumeInfo[\"imageLinks\"] = {\n    //       thumbnail:\n    //         \"https://vignette.wikia.nocookie.net/pandorahearts/images/a/ad/Not_available.jpg/revision/latest?cb=20141028171337\",\n    //     };\n    //   }\n    //   if (!book.volumeInfo.hasOwnProperty(\"authors\")) {\n    //     book.volumeInfo[\"authors\"] = [];\n    //   }\n    //   return book;\n    // });\n    const books = [];\n    for (let key in book) {\n      const bookSet = book[key];\n      let amazonImage = \"\";\n      if (bookSet.hasOwnProperty(\"abeBook\")) {\n        console.log(\"getting link\");\n        amazonImage = bookSet[\"abeBook\"].goodreadsImageLink;\n      }\n      if (bookSet.hasOwnProperty(\"amazonBook\")) {\n        console.log(\"Settinfg link\");\n        bookSet.amazonBook[\"imageLink\"] = amazonImage;\n      }\n      for (let key in bookSet) {\n        console.log(\"in\");\n        const bookItem = bookSet[key];\n        if (bookItem.imageLink === \"\") {\n          console.log(\"inner\");\n          bookItem[\"imageLink\"] =\n            \"https://vignette.wikia.nocookie.net/pandorahearts/images/a/ad/Not_available.jpg/revision/latest?cb=20141028171337\";\n        }\n      }\n      books.push(bookSet);\n      // console.log(\"d\", book[key]);\n    }\n    return books;\n  };\n\n  // componentDidMount() {\n  //   window.addEventListener(\"scroll\", this.performScrollEvent);\n  //   this.loadData();\n  // }\n\n  // componentDidUpdate() {\n  //   this.loadData();\n  // }\n\n  // componentWillUnmount() {\n  //   window.removeEventListener(\"scroll\", this.performScrollEvent);\n  // }\n\n  let results = loading ? <ScrapeLoader /> : null;\n  if (error === \"Network Error\") {\n    results = <p>Check your network dumbass</p>;\n  }\n  if (books.length > 0) {\n    results = (\n      <div>\n        {books.length}\n        <ul className={styles.BookList}>\n          {books.map((book) => {\n            return (\n              <Link to={\"/acquire_new/\" + book.id}>\n                <li className={styles.BookItem} key={book.id}>\n                  <div className={styles.ThumbnailSection}>\n                    <img\n                      src={book.volumeInfo.imageLinks.thumbnail}\n                      alt=\"book\"\n                    />\n                  </div>\n                  <div className={styles.BookSummary}>\n                    <h3>{book.volumeInfo.title}</h3>\n                    <h4>\n                      <span>by </span>\n                      {book.volumeInfo.authors.join(\", \")}\n                    </h4>\n                    <StarRating rate={book.volumeInfo.averageRating} />\n                  </div>\n                </li>\n              </Link>\n            );\n          })}\n        </ul>\n        {pagenatedLoading ? <Spinner /> : null}\n      </div>\n    );\n  }\n  return <Aux> {results} </Aux>;\n};\n\nexport default SearchResult;\n"]},"metadata":{},"sourceType":"module"}